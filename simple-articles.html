<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Articles - Simple Version</title>
    <style>
        body { font-family: 'Open Sans', sans-serif; line-height: 1.6; margin: 0; padding: 0; color: #333; }
        .container { width: 90%; max-width: 1200px; margin: 0 auto; padding: 20px; }
        .article { margin-bottom: 30px; padding: 20px; border: 1px solid #eee; border-radius: 5px; background: white; }
        .article-title { color: #000; margin-bottom: 10px; }
        .article-date { color: #888; font-size: 0.9em; margin-bottom: 10px; }
        .article-tags { margin: 10px 0; }
        .tag { display: inline-block; padding: 3px 8px; background: #f0f0f0; border-radius: 15px; font-size: 0.8em; margin-right: 5px; }
        .read-more { display: inline-block; margin-top: 10px; padding: 8px 16px; background: #000; color: white; text-decoration: none; border-radius: 4px; transition: background 0.3s ease; }
        .read-more:hover { background: #444; }
        .section-title { text-align: center; margin-bottom: 30px; color: #000; }
        .loading { text-align: center; padding: 40px; color: #666; }
        .error { color: red; padding: 20px; background: #ffe6e6; border: 1px solid #ffcccc; border-radius: 4px; }
    </style>
</head>
<body>
    <div class="container">
        <h1 class="section-title">My Articles</h1>
        <p>Welcome to my articles section. Here, I share my thoughts, insights, and experiences on various topics related to my professional field and personal interests.</p>
        
        <div id="articles-container">
            <div class="loading">Loading articles...</div>
        </div>
    </div>

    <script>
        // Simple, direct article loading without complex dependencies
        console.log('=== SIMPLE ARTICLES LOADING ===');
        
        function displayError(message) {
            document.getElementById('articles-container').innerHTML = 
                '<div class="error">Error: ' + message + '</div>';
        }
        
        function displayArticles(articles) {
            console.log('Displaying articles:', articles.length);
            const container = document.getElementById('articles-container');
            container.innerHTML = '';
            
            if (articles.length === 0) {
                container.innerHTML = '<p>No articles found.</p>';
                return;
            }
            
            articles.forEach(article => {
                const articleDiv = document.createElement('div');
                articleDiv.className = 'article';
                
                let articleUrl = '';
                let target = '_self';
                
                if (article.type === 'notion') {
                    articleUrl = article.notionUrl || article.url || `https://notion.so/${article.notionId.replace(/-/g, '')}`;
                    target = '_blank';
                } else {
                    articleUrl = article.content || '#';
                }
                
                const tagsHtml = article.tags && article.tags.length > 0 
                    ? article.tags.map(tag => `<span class="tag">${tag}</span>`).join('')
                    : '';
                
                articleDiv.innerHTML = `
                    <div class="article-date">${new Date(article.date).toLocaleDateString()}</div>
                    <h2 class="article-title">${article.title}</h2>
                    <p>${article.summary}</p>
                    ${tagsHtml ? `<div class="article-tags">${tagsHtml}</div>` : ''}
                    <a href="${articleUrl}" class="read-more" target="${target}">Read Full Article</a>
                `;
                
                container.appendChild(articleDiv);
            });
        }
        
        // Load articles directly
        console.log('Fetching articles.json...');
        fetch('data/articles.json')
            .then(response => {
                console.log('Response status:', response.status);
                if (!response.ok) {
                    throw new Error('HTTP error! status: ' + response.status);
                }
                return response.json();
            })
            .then(data => {
                console.log('Articles data loaded:', data);
                displayArticles(data.articles);
            })
            .catch(error => {
                console.error('Error loading articles:', error);
                displayError('Failed to load articles: ' + error.message);
            });
        
        // Fallback: try to load manually if fetch fails
        setTimeout(() => {
            if (document.getElementById('articles-container').innerHTML.includes('Loading')) {
                console.log('Fallback: trying manual article creation...');
                // Create sample articles if nothing loaded
                const sampleArticles = [
                    {
                        title: "Sample Article 1",
                        summary: "This is a sample article to test the system.",
                        date: "2024-01-01",
                        type: "markdown",
                        content: "content/article-1.md",
                        tags: ["test", "sample"],
                        featured: true
                    }
                ];
                displayArticles(sampleArticles);
            }
        }, 3000);
    </script>
</body>
</html>
        // Load articles directly
        console.log('Fetching articles.json...');
        fetch('data/articles.json')
            .then(response => {
                console.log('Response status:', response.status);
                if (!response.ok) {
                    throw new Error('HTTP error! status: ' + response.status);
                }
                return response.json();
            })
            .then(data => {
                console.log('Articles data loaded:', data);
                displayArticles(data.articles);
            })
            .catch(error => {
                console.error('Error loading articles:', error);
                displayError('Failed to load articles: ' + error.message);
            });
        
        // Fallback: try to load manually if fetch fails
        setTimeout(() => {
            if (document.getElementById('articles-container').innerHTML.includes('Loading')) {
                console.log('Fallback: trying manual article creation...');
                // Create sample articles if nothing loaded
                const sampleArticles = [
                    {
                        title: "Sample Article 1",
                        summary: "This is a sample article to test the system.",
                        date: "2024-01-01",
                        type: "markdown",
                        content: "content/article-1.md",
                        tags: ["test", "sample"],
                        featured: true
                    }
                ];
                displayArticles(sampleArticles);
            }
        }, 3000);
    </script>
</body>
</html>
