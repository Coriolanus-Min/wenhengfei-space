<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Debug Articles - Diagnostic</title>
    <style>
        body { font-family: Arial, sans-serif; margin: 20px; }
        .debug-section { margin: 20px 0; padding: 15px; border: 1px solid #ccc; background: #f5f5f5; }
        .error { color: red; }
        .success { color: green; }
        .info { color: blue; }
        pre { background: #eee; padding: 10px; overflow-x: auto; }
    </style>
</head>
<body>
    <h1>Articles System Diagnostic</h1>
    
    <div class="debug-section">
        <h2>Real-time Debug Info</h2>
        <div id="debug-info">Loading...</div>
    </div>
    
    <div class="debug-section">
        <h2>Articles Data</h2>
        <div id="articles-data">Loading articles data...</div>
    </div>
    
    <div class="debug-section">
        <h2>Browser Console</h2>
        <p>Check your browser's developer console (F12) for detailed JavaScript logs</p>
    </div>
    
    <div class="debug-section">
        <h2>Test Articles Container</h2>
        <div class="articles-container" id="test-container">
            <p>This container should be populated by JavaScript</p>
        </div>
    </div>

    <script>
        console.log('=== ARTICLES DEBUG START ===');
        
        // Debug info
        const debugInfo = document.getElementById('debug-info');
        let info = '';
        
        // Check basic setup
        info += '<p><strong>Page URL:</strong> ' + window.location.href + '</p>';
        info += '<p><strong>Document ready:</strong> ' + (document.readyState === 'complete' ? 'Yes' : 'No') + '</p>';
        info += '<p><strong>Articles container found:</strong> ' + (document.querySelector('.articles-container') ? 'Yes' : 'No') + '</p>';
        info += '<p><strong>NOTION_CONFIG available:</strong> ' + (window.NOTION_CONFIG ? 'Yes' : 'No') + '</p>';
        
        debugInfo.innerHTML = info;
        
        // Try to load articles data directly
        console.log('Attempting to load articles.json...');
        fetch('data/articles.json')
            .then(response => {
                console.log('Articles.json fetch response:', response.status, response.statusText);
                if (!response.ok) {
                    throw new Error('HTTP error! status: ' + response.status);
                }
                return response.json();
            })
            .then(data => {
                console.log('Articles data loaded successfully:', data);
                const articlesData = document.getElementById('articles-data');
                articlesData.innerHTML = '<h3>Found ' + data.articles.length + ' articles:</h3>';
                
                data.articles.forEach((article, index) => {
                    articlesData.innerHTML += `
                        <div style="margin: 10px 0; padding: 10px; border: 1px solid #ddd;">
                            <strong>${index + 1}. ${article.title}</strong><br>
                            Type: ${article.type}<br>
                            Featured: ${article.featured}<br>
                            ${article.notionUrl ? 'Notion URL: <a href="' + article.notionUrl + '" target="_blank">Link</a>' : 'No Notion URL'}
                            ${article.content ? 'Content: ' + article.content : ''}
                        </div>
                    `;
                });
                
                // Try to manually create article elements
                console.log('Attempting to manually create article elements...');
                const container = document.getElementById('test-container');
                container.innerHTML = '<h3>Manually Created Articles:</h3>';
                
                data.articles.forEach(article => {
                    const articleDiv = document.createElement('div');
                    articleDiv.className = 'article';
                    articleDiv.style.cssText = 'margin: 20px 0; padding: 15px; border: 1px solid #ccc; background: white;';
                    
                    let articleUrl = '';
                    let target = '_self';
                    
                    if (article.type === 'notion') {
                        articleUrl = article.notionUrl || article.url || `https://notion.so/${article.notionId.replace(/-/g, '')}`;
                        target = '_blank';
                    } else {
                        articleUrl = article.content || '#';
                    }
                    
                    articleDiv.innerHTML = `
                        <h3>${article.title}</h3>
                        <p><strong>Summary:</strong> ${article.summary}</p>
                        <p><strong>Type:</strong> ${article.type}</p>
                        <p><strong>Date:</strong> ${article.date}</p>
                        <p><strong>Tags:</strong> ${article.tags.join(', ')}</p>
                        <a href="${articleUrl}" target="${target}" style="display: inline-block; margin-top: 10px; padding: 8px 16px; background: #007bff; color: white; text-decoration: none; border-radius: 4px;">Read Article</a>
                    `;
                    
                    container.appendChild(articleDiv);
                });
                
                console.log('=== ARTICLES DEBUG COMPLETE ===');
            })
            .catch(error => {
                console.error('Error loading articles:', error);
                document.getElementById('articles-data').innerHTML = '<p class="error">Error loading articles: ' + error.message + '</p>';
                document.getElementById('test-container').innerHTML = '<p class="error">Failed to load articles data</p>';
            });
    </script>
</body>
</html>
                    let articleUrl = '';
                    let target = '_self';
                    
                    if (article.type === 'notion') {
                        articleUrl = article.notionUrl || article.url || `https://notion.so/${article.notionId.replace(/-/g, '')}`;
                        target = '_blank';
                    } else {
                        articleUrl = article.content || '#';
                    }
                    
                    articleDiv.innerHTML = `
                        <h3>${article.title}</h3>
                        <p><strong>Summary:</strong> ${article.summary}</p>
                        <p><strong>Type:</strong> ${article.type}</p>
                        <p><strong>Date:</strong> ${article.date}</p>
                        <p><strong>Tags:</strong> ${article.tags.join(', ')}</p>
                        <a href="${articleUrl}" target="${target}" style="display: inline-block; margin-top: 10px; padding: 8px 16px; background: #007bff; color: white; text-decoration: none; border-radius: 4px;">Read Article</a>
                    `;
                    
                    container.appendChild(articleDiv);
                });
                
                console.log('=== ARTICLES DEBUG COMPLETE ===');
            })
            .catch(error => {
                console.error('Error loading articles:', error);
                document.getElementById('articles-data').innerHTML = '<p class="error">Error loading articles: ' + error.message + '</p>';
                document.getElementById('test-container').innerHTML = '<p class="error">Failed to load articles data</p>';
            });
    </script>
</body>
</html>
